<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- CSS IMPORTS -->
    <link rel="stylesheet" href="css/externo/bootstrap.min.css">
    <link rel="stylesheet" href="css/externo/style.css">
    <link rel="stylesheet" type="text/css" href="css/externo/responsive.css">
    <link rel="stylesheet" type="text/css" href="css/cssAreas.css">



	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@1,400;1,500;1,700&display=swap" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Cardo&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://fonts.sandbox.google.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />

	<title>HOSPITAL - B.G</title>
</head>
<body>
	 <!-- portfolio start -->
	 <section class="gallery-area">
		<div class="container">
			<div class="section-title">
				<div class="row">
					<div class="col-md-8 col-md-offset-2 text-center">
						<h2>AREA<span class="color-defult"> MEDICO</span></h2>
						<div class="line-border-center bg-defult"></div>
						<p>En esta seccion podrás comprobar tus citas previstas o <br>reservar una nueva cita con uno de nuestros especialistas</p>
					</div>
				</div>
			</div>
			<div class="section-content">
					<div class="gallery col-3 gutter">
						<div class="gallery-item gp-two">
							<div class="thumb">
								<img src="img/portfolio/1.jpg" alt="">
								<div class="gallery-hover">
									<div class="gallery-info">
										<div class="gallery-btn">
											<a href="verCitasDoc.html" data-fancybox-group="gallery" class="lightbox-image" title="lightbox view"> <i class="pe-7s-graph2"></i>  </a>
										</div>
										<h4><a href="verCitasDoc.html" data-fancybox-group="gallery" class="lightbox-image" title="lightbox view">Comprobar Mis Citas Diarias</a></h4>
										<p><a href="verCitasDoc.html">Ver todas las citas que tienes agendadas,así como el departamento y el doctor que se te han asignado</a></p>
									</div>
								</div>
							</div>
						</div>
						<div class="gallery-item gp-three">
						</div>
						<div class="gallery-item gp-four">
							<div class="thumb">
								<img src="img/portfolio/3.jpg" alt="">
								<div class="gallery-hover">
									<div class="gallery-info">
										<div class="gallery-btn">
											<a href="verCitasDoc.html" data-fancybox-group="gallery" class="lightbox-image" title="lightbox view"> <i class="pe-7s-graph2"></i>  </a>
										</div>
										<h4><a href="verCitasDoc.html" data-fancybox-group="gallery" class="lightbox-image" title="lightbox view">Modificar Mis Citas Pendientes</a></h4>
										<p><a href="verCitasDoc.html">Agendar una nueva cita con uno de nuestros especialistas</a></p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	  </section>

	  <!-- portfolio end -->
	  <button class="center" id="logOut">Cerrar Sesion</button>
	  
</div>


</body>
<script type="module">
	/*
	<button class="ghost" id="signUp"><a href="index2.html">VOLVER⠀<span class="material-symbols-outlined">arrow_back</span></a></button>
	 <button class="ghost" id="signUp"><a href="indexPaciente.html">VOLVER⠀<span class="material-symbols-outlined">arrow_back</span></a></button>*/
	import { initializeApp } from "https://www.gstatic.com/firebasejs/9.7.0/firebase-app.js";
	import { getFirestore,collection,addDoc,query,where,getDocs } from "https://www.gstatic.com/firebasejs/9.7.0/firebase-firestore.js"
	import { getAuth,createUserWithEmailAndPassword,onAuthStateChanged,signOut } from "https://www.gstatic.com/firebasejs/9.7.0/firebase-auth.js";
	 // Your web app's Firebase configuration
	 // For Firebase JS SDK v7.20.0 and later, measurementId is optional
	 const firebaseConfig = {
	   apiKey: "AIzaSyCp6Q_j8massOsIuXXWhlMp1yuig5ebmjE",
	   authDomain: "hospital-5f67e.firebaseapp.com",
	   projectId: "hospital-5f67e",
	   storageBucket: "hospital-5f67e.appspot.com",
	   messagingSenderId: "1004398381726",
	   appId: "1:1004398381726:web:e7c0f93f111a0d93ae898f",
	   measurementId: "G-KGZ9K8SRR2"
	 };

	 const app = initializeApp(firebaseConfig);
	 const db=getFirestore();
	 const auth=getAuth();
	 //const logout=document.getElementById('Log out');
	// var Logout='<button>Log out</button>';
	//logout.innerHTML=Logout;
	 
	const logOut=document.getElementById("logOut");
	onAuthStateChanged(auth,async(user)=>{
		if(user){
			let correo="";
			const usEmail=user.email;
			const q=query(collection(db,"Doctores"),where("correo","==",usEmail));
			const querySnapshot = await getDocs(q);
			querySnapshot.forEach((doc)=>{
				const dat=doc.data();
				correo=dat.correo;
			})
			if(correo==""){
				window.location.href = "./index2.html";
			}
			
			
			
		}else{
			window.location.href = "./index2.html";
		}
	})

logOut.addEventListener('click',(e)=>{
e.preventDefault();
signOut(auth).then(() => {
alert("sesion cerrada")
window.location.href ="./index2.html";
});

});

</script>
</html>
